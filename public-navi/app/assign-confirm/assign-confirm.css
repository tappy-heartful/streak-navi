/* ---------------------------------- */
/* 共通デザインとの統合 */
/* ---------------------------------- */

/* 譜割り表のラッパー (HTML修正に伴い、外枠の見た目を調整) */
.table-view-wrapper {
    margin-top: 20px;
    padding: 10px; /* 内部のタブUIに少し余白を持たせる */
    background-color: #fff; /* 背景を白に設定 */
    border-radius: 10px; /* 共通コンテナに合わせた丸み */
    box-shadow: 0 1px 4px rgba(0, 0, 0, 0.05); /* 控えめな影 */
}

/* ---------------------------------- */
/* タブ UI のスタイル */
/* ---------------------------------- */
.tab-buttons {
    display: flex;
    overflow-x: auto;
    white-space: nowrap;
    border-bottom: 2px solid #e0e0e0; /* 薄いグレーの線 */
    margin-bottom: 10px;
    padding-bottom: 0; /* タブボタンの線が下線と重なるように */
    background-color: #fcfcfc; /* タブエリアの背景をわずかに明るく */
    border-radius: 8px 8px 0 0;
}

.tab-button {
    background: none;
    border: none;
    padding: 12px 18px;
    cursor: pointer;
    font-size: 14px;
    font-weight: bold;
    color: #666;
    border-bottom: 3px solid transparent;
    transition: all 0.2s;
    flex-shrink: 0;
}

.tab-button:hover {
    color: #4CAF50; /* メインカラー (緑) */
}

.tab-button.active {
    color: #4CAF50; /* メインカラー (緑) */
    border-bottom: 3px solid #4CAF50; /* メインカラーで強調 */
    background-color: #fff;
}

.tab-contents .tab-content {
    display: none;
}

.tab-contents .tab-content.active {
    display: block;
}


/* ---------------------------------- */
/* 譜割り表本体のスタイル */
/* ---------------------------------- */

/* 横スクロール可能なコンテナ */
.table-responsive {
    overflow-x: auto;
    position: relative;
    border: 1px solid #ddd; /* 外枠の色を統一 */
    border-radius: 6px;
    background-color: #fff;
    margin: 10px 0; /* タブコンテンツ内でのマージン */
}

.assign-table {
    width: 100%;
    border-collapse: collapse;
}

/* ヘッダーのスタイル */
.assign-table thead th {
    background-color: #e3f2fd; /* Light Blue 50 */
    border: 1px solid #bbdefb; /* Light Blue 200 */
    padding: 10px 6px;
    font-size: 13px;
    font-weight: bold;
    text-align: center;
    white-space: nowrap;
    vertical-align: middle;
}

/* 縦軸ラベル（曲名ヘッダー） - thead内のヘッダーセル */
.assign-table .song-header {
    background-color: #f1f8e9; /* Light Green 50 */
    color: #333;
    border-right: 2px solid #aed581; /* Light Green 300 */
    text-align: left;
    /* paddingを狭くする */
    padding: 6px 15px;
    /* min-widthを削除 */

    position: sticky;
    left: 0;
    z-index: 3; /* 最前面に */
    border-top-color: #f1f8e9;
    border-bottom-color: #e0e0e0; /* ボディとの境 */
}
/* ★追加: 曲名リンクのスタイル (song-header内のaタグ) */
.assign-table .song-header a {
    font-weight: bold;
    display: block;
}

/* 横軸パート名（partName） */
.assign-table .part-header-cell {
    background-color: #e3f2fd; /* Light Blue 50 */
    font-weight: normal;
    font-size: 12px;
}

/* ボディ（中身）のスタイル */
.assign-table tbody td {
    border: 1px solid #eee;
    /* paddingを狭くする */
    padding: 6px 5px;
    /* ★修正: 列ヘッダーを除く中身のセルは左揃え */
    text-align: left;
    font-size: 14px;
    white-space: nowrap;
    /* heightも狭くする */
    height: 32px;
}
/* ★追加: assign-cell は基本的に左揃え（上記tbody tdで定義）だが、必要なら個別に調整可 */
.assign-table .assign-cell {
    color: #333;
    line-height: 1.4; 
    /* ★修正: パートのセルは中央揃えに戻す (担当者が1人の場合は見やすい) */
    text-align: center;
}


/* 曲のグループタイトル行 (setlist.title) */
.group-title-row td {
    background-color: #f5f5f5;
    font-weight: bold;
    text-align: left;
    padding: 10px 15px;
    border-top: 2px solid #ccc; /* セクションの区切りを強調 */
    color: #444;

    position: sticky;
    left: 0;
    z-index: 2;
}

/* 曲名のセル（ボディ内の左端）にもsong-headerを適用 */
.assign-table tbody .song-header {
    background-color: #f1f8e9;
    border-right: 2px solid #aed581;
    color: #333;
    /* ★注意: text-align: left; は tbody td で上書きされているため、ここでは不要 */

    position: sticky;
    left: 0;
    z-index: 2;
    /* paddingはtbody tdと同じ設定に */
    padding: 6px 15px;
    /* heightはtbody tdと同じ設定に */
    height: 32px;
}


/* ---------------------------------- */
/* ★ 新規追加: 控え or 未設定 列のスタイル */
/* ---------------------------------- */

/* 控え or 未設定 列ヘッダーのスタイル */
.assign-table .rehearsal-header {
    background-color: #f5f5f5; /* 薄い灰色 */
    color: #888; /* 暗い文字色 */
    font-weight: normal;
    font-size: 12px;
    text-align: center; /* ヘッダーは中央揃え */
    border-left: 2px solid #ddd; /* パート列との境を強調 */
}

/* 控え or 未設定 セルのスタイル */
.assign-table .unassigned-cell {
    background-color: #fafafa; /* さらに薄い灰色 */
    color: #888; /* 暗い文字色 */
    font-size: 12px;
    line-height: 1.4;
    text-align: left; /* 左揃え */
    border-left: 2px solid #ddd; /* パート列との境を強調 */
}


/* ---------------------------------- */
/* 小計表示エリアのスタイル (追加) */
/* ---------------------------------- */
#assign-summary-wrapper {
    margin-top: 30px;
    padding: 20px;
    background-color: #f9f9f9;
    border: 1px solid #eee;
}

.summary-title {
    font-size: 18px;
    font-weight: bold;
    color: #4CAF50; /* メインカラー */
    border-bottom: 2px solid #eee;
    padding-bottom: 10px;
    margin-bottom: 15px;
}

.summary-section {
    margin-bottom: 20px;
    padding: 10px;
    border: 1px solid #ddd;
    border-radius: 8px;
    background-color: #fff;
}

.summary-section h3 {
    font-size: 16px;
    color: #555;
    margin-top: 0;
    border-bottom: 1px dashed #eee;
    padding-bottom: 5px;
    margin-bottom: 10px;
}

.summary-list {
    display: flex;
    /* 項目を縦に並べるためにflex-direction: column; に変更、または各項目を100%幅にする */
    flex-direction: column; 
    list-style: none;
    padding: 0;
    margin: 0;
}

.summary-item {
    margin-right: 0; /* 右マージンを解除 */
    margin-bottom: 5px; /* 各項目の下に少しスペースを開ける */
    font-size: 15px;
    color: #333;
}

.summary-item strong {
    font-weight: bold;
    color: #2196F3; /* サブカラー (青) */
    margin-left: 5px;
}


/* ---------------------------------- */
/* ボタンセクション */
/* ---------------------------------- */

/* ★修正: メンバー表示トグルを削除し、参考音源リンクと編集ボタンのコンテナとして残す */
.top-controls {
    display: flex;
    justify-content: flex-end; /* 参考音源リンクを右寄せに */
    align-items: center;
    margin-bottom: 15px;
    padding: 0 5px;
}

/* ★追加: 参考音源リンクのスタイル */
#reference-track-link {
    font-size: 14px;
    text-align: right;
    white-space: nowrap;
    margin-left: auto; /* 右端に寄せる */
    font-weight: bold;
}

/* ★削除: トグルボタン関連のスタイルをすべて削除 */

.confirm-buttons {
    margin-top: 30px;
    text-align: center;
}

/* 編集ボタンのスタイルを共通の .edit-button に基づき調整 */
.edit-button {
    background-color: #2196F3; /* サブカラー (青) */
    color: white;
    padding: 12px 24px;
    border-radius: 8px;
    font-size: 16px;
    font-weight: bold;
    display: inline-block;
    transition: background-color 0.3s;
}

.edit-button:hover {
    background-color: #1e88e5; /* 濃い青 */
}

/* 譜割りがない場合のメッセージ */
#no-assign-message {
    text-align: center;
    padding: 20px;
    color: #777;
    background-color: #fff;
    border-radius: 8px;
}